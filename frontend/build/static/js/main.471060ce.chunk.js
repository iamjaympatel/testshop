(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{198:function(e,t,a){e.exports=a(258)},207:function(e,t,a){},208:function(e,t,a){},241:function(e,t,a){var n={"./ar":123,"./ar.js":123,"./az":124,"./az.js":124,"./be":125,"./be.js":125,"./bg":126,"./bg.js":126,"./bs":127,"./bs.js":127,"./ca":128,"./ca.js":128,"./cs":129,"./cs.js":129,"./cy":130,"./cy.js":130,"./da":131,"./da.js":131,"./de":132,"./de.js":132,"./el":133,"./el.js":133,"./en":100,"./en.js":100,"./es":134,"./es.js":134,"./et":135,"./et.js":135,"./eu":136,"./eu.js":136,"./fa":137,"./fa.js":137,"./fi":138,"./fi.js":138,"./fr":139,"./fr.js":139,"./hr":140,"./hr.js":140,"./hu":141,"./hu.js":141,"./id":142,"./id.js":142,"./it":143,"./it.js":143,"./ja":144,"./ja.js":144,"./ka":145,"./ka.js":145,"./ko":146,"./ko.js":146,"./lt":147,"./lt.js":147,"./lv":148,"./lv.js":148,"./mk":149,"./mk.js":149,"./mn":150,"./mn.js":150,"./ms":151,"./ms.js":151,"./nb_NO":152,"./nb_NO.js":152,"./nl":153,"./nl.js":153,"./pl":154,"./pl.js":154,"./pt":155,"./pt.js":155,"./pt_BR":156,"./pt_BR.js":156,"./ro":157,"./ro.js":157,"./ru":158,"./ru.js":158,"./se":159,"./se.js":159,"./sl":160,"./sl.js":160,"./sq":161,"./sq.js":161,"./sr":162,"./sr.js":162,"./sv":163,"./sv.js":163,"./tr":164,"./tr.js":164,"./ua":165,"./ua.js":165,"./uk":166,"./uk.js":166,"./vi":167,"./vi.js":167,"./zh":168,"./zh.js":168,"./zh_TW":169,"./zh_TW.js":169};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=241},258:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=a(4),s=a(55),u=a(172),i=a(173),m=a(2),d="PRODUCT_FAIL",p={products:[],product:{reviews:[]},error:"",loading:!1,success:!1,pages:"",page:"",sellerproducts:[],selectedProducts:[],topproducts:[]},E={loading:!1,error:"",userInfo:{},users:[],user:{}},g={loading:!1,success:!1,error:"",myOrders:[],Listorder:[],order:{},orderItems:[],shippingAddress:{}},f=a(30),h="src/Brand/RESET_BRAND",b="src/Brand/ADD_BRAND",y={brands:[],storeBrands:[],brand:{name:"",description:""},loading:!1,success:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BRANDs_REQUEST":return Object(m.a)(Object(m.a)({success:!1},e),{},{loading:!0});case"src/Brand/FETCH_BRANDS":return Object(m.a)(Object(m.a)({},e),{},{brands:t.payload,loading:!1});case"src/Brand/FETCH_STORE_BRANDS":return Object(m.a)(Object(m.a)({},e),{},{storeBrands:t.payload,loading:!1});case"src/Brand/FETCH_BRAND":return Object(m.a)(Object(m.a)({},e),{},{brand:t.payload,editFormErrors:{},loading:!1,sucess:!0});case b:return Object(m.a)(Object(m.a)({},e),{},{success:!0,brands:[].concat(Object(f.a)(e.brands),[t.payload]),loading:!1});case"src/Brand/REMOVE_BRAND":var a=e.storeBrands.findIndex((function(e){return e._id===t.payload}));return Object(m.a)(Object(m.a)({},e),{},{storeBrands:[].concat(Object(f.a)(e.storeBrands.slice(0,a)),Object(f.a)(e.storeBrands.slice(1+a))),brands:[].concat(Object(f.a)(e.brands.slice(0,a)),Object(f.a)(e.brands.slice(a+1))),success:!0,loading:!1});case h:return Object(m.a)(Object(m.a)({},e),{},{selectedBrands:[],formErrors:{},success:!1});default:return e}},O="src/Category/RESET_CATEGORY",S="src/Category/ADD_CATEGORY",j={categories:[],category:{},error:null,success:!1,loading:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:null,success:!1});case"REQUEST_FAIL":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload});case"src/Category/FETCH_CATEGORIES":return Object(m.a)(Object(m.a)({},e),{},{categories:t.payload,loading:!1,error:null});case"FETCH_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{category:t.payload,loading:!1,error:null});case S:return Object(m.a)(Object(m.a)({},e),{},{categories:[].concat(Object(f.a)(e.categories),[t.payload]),success:!0,loading:!1,error:null});case"UPDATE_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{success:!0,loading:!1,error:null});case"src/Category/REMOVE_CATEGORY":var a=e.categories.findIndex((function(e){return e._id===t.payload}));return Object(m.a)(Object(m.a)({},e),{},{categories:[].concat(Object(f.a)(e.categories.slice(0,a)),Object(f.a)(e.categories.slice(a+1))),success:!0,loading:!1,error:null});case"src/Category/CATEGORY_CHANGE":return Object(m.a)(Object(m.a)({},e),{},{categoryFormData:Object(m.a)(Object(m.a)({},e.categoryFormData),t.payload)});case O:return Object(m.a)(Object(m.a)({},e),{},{success:!1,loading:!1,error:null});default:return e}},I={brands:[],categories:[],products:[],price:1550,sort:"",modalopen:!0},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITSELECTCATEGORY":return Object(m.a)(Object(m.a)({},e),{},{categories:t.payload.map((function(e){return e._id}))});case"SELECTCATEGORY":var a=JSON.parse(JSON.stringify(e.categories)),n=a.find((function(e){return e===t.payload}));return n?a=a.filter((function(e){return e!==t.payload})):a.push(t.payload),Object(m.a)(Object(m.a)({},e),{},{categories:a});case"INITSELECTBRAND":return Object(m.a)(Object(m.a)({},e),{},{brands:t.payload.map((function(e){return e._id}))});case"SELECTBRAND":var r=JSON.parse(JSON.stringify(e.brands)),c=r.find((function(e){return e===t.payload}));return c?r=r.filter((function(e){return e!==t.payload})):r.push(t.payload),Object(m.a)(Object(m.a)({},e),{},{brands:r});case"SORTED":return Object(m.a)(Object(m.a)({},e),{},{sort:t.payload});case"PRICERANGE":return Object(m.a)(Object(m.a)({},e),{},{price:t.payload});case"Toggle":return Object(m.a)(Object(m.a)({},e),{},{modalopen:!e.modalopen});default:return e}},R=Object(s.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:null});case d:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload});case"PRODUCT_LIST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page});case"PRODUCT_DETAILS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,product:t.payload});case"PRODUCTSELLER_LIST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,sellerproducts:t.payload.products,pages:t.payload.pages,page:t.payload.page});case"PRODUCT_DELETE_SUCCESS":case"PRODUCT_CREATE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,success:!0});case"PRODUCT_CREATE_RESET":return Object(m.a)(Object(m.a)({},e),{},{success:!1});case"PRODUCT_UPDATE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,success:!0,product:t.payload});case"PRODUCT_UPDATE_RESET":return Object(m.a)(Object(m.a)({},e),{},{success:!1});case"PRODUCT_SELECT_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,products:t.payload});case"PRODUCT_SELECTED":return Object(m.a)(Object(m.a)({},e),{},{selectedProducts:t.payload});case"PRODUCT_TOP_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,topproducts:t.payload});case"PRODUCT_CREATE_REVIEW_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,success:!0});case"PRODUCT_CREATE_REVIEW_RESET":return Object(m.a)(Object(m.a)({},e),{},{success:!1});default:return e}},cart:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},cartId:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CART_ID":return e=Object(m.a)(Object(m.a)({},t),{},{cartId:a.payload}),localStorage.setItem("cart_id",e.cartId),e;case"CART_REMOVE_ITEM":return Object(m.a)(Object(m.a)({},t),{},{cartItems:t.cartItems.filter((function(e){return e.product!==a.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(m.a)(Object(m.a)({},t),{},{shippingAddress:a.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(m.a)(Object(m.a)({},t),{},{paymentMethod:a.payload});case"GET_CART_ITEM":return Object(m.a)(Object(m.a)({},t),{},{cartItems:a.payload});case"CART_RESET":return Object(m.a)(Object(m.a)({},t),{},{cartItems:[]});default:return t}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"USER_LOGIN_SUCCESS":case"USER_REGISTER_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,userInfo:t.payload});case"USER_DETAILS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,user:t.payload});case"USER_DETAILS_RESET":return Object(m.a)(Object(m.a)({},e),{},{user:{}});case"USER_LIST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,users:t.payload});case"USER_LIST_RESET":return{users:[]};case"USER_DELETE_SUCCESS":case"USER_UPDATE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,success:!0});case"USER_FAIL":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload});case"USER_LOGOUT":return Object(m.a)(Object(m.a)({},e),{},{userInfo:{},user:{},users:[]});default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0,userInfo:t.payload};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,error:t.payload};case"USER_UPDATE_PROFILE_RESET":return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:t.payload};case"USER_LIST_FAIL":return{loading:!1,error:t.payload};case"USER_LIST_RESET":return{users:[]};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"ORDER_CREATE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,success:!0,order:t.payload});case"ORDER_FAIL":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload});case"ORDER_CREATE_RESET":return Object(m.a)(Object(m.a)({},e),{},{success:!1});case"ORDER_DETAILS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,order:t.payload});case"ORDER_LIST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,Listorder:t.payload});case"ORDER_LIST_MY_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,myOrders:t.payload});case"ORDER_DELIVER_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,success:!0});case"ORDER_DELIVER_RESET":return Object(m.a)(Object(m.a)({},e),{},{success:!1});case"ORDER_PAY_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,success:!0});case"ORDER_PAY_RESET":return Object(m.a)(Object(m.a)({},e),{},{success:!1});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},brand:v,category:C,filter:_}),k=(localStorage.getItem("cartItems")&&JSON.parse(localStorage.getItem("cartItems")),localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null),T={cart:{cartItems:[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:k}},L=[u.a],D=Object(s.createStore)(R,T,Object(i.composeWithDevTools)(s.applyMiddleware.apply(void 0,L))),A=(a(207),a(208),a(10)),x=a(26),w=a(305),P=a(7),U=a(17),N=a(315),F=a(306),B=a(307),G=a(312),M=a(175),z=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(P.a)(a,2),l=c[0],o=c[1];return r.a.createElement(G.a,{onSubmit:function(e){e.preventDefault(),l.trim()?t.push("/search/".concat(l)):t.push("/")},inline:!0},r.a.createElement(G.a.Control,{type:"text",name:"q",onChange:function(e){return o(e.target.value)},placeholder:"Search Products...",className:"mr-sm-2 ml-sm-5"}),r.a.createElement(M.a,{type:"submit",variant:"outline-success",className:"p-2"},"Search"))},Q=a(6),H=a.n(Q),$=a(12),q=a(11),Y=a.n(q),V=function(){return function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("cart_id"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("paymentMethod"),e({type:"USER_LOGOUT"}),e({type:"USER_DETAILS_RESET"}),e({type:"ORDER_LIST_MY_RESET"}),e({type:"USER_LIST_RESET"}),document.location.href="/login"}},J=function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.get("/api/users/".concat(e),l);case 6:o=t.sent,s=o.data,a({type:"USER_DETAILS_SUCCESS",payload:s}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:"USER_FAIL",payload:u});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},W=a(56),Z=a(14),K=a(262),X=a(47),ee=a(304),te=a(313),ae=a(300),ne=a(260),re=a(302),ce=a(322),le=a(180),oe=a.n(le),se=a(181),ue=a.n(se),ie=a(319),me=a(303),de=a(323),pe=a(317),Ee=a(35),ge=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n={title:"".concat(a),message:"",position:"tr",autoDismiss:1};e.response?400===e.response.status?(n.title=a||"Please Try Again!",n.message=e.response.data.error,t(Object(Ee.error)(n))):404===e.response.status||(401===e.response.status?(n.message="Unauthorized Access! Please login again",t(Object(Ee.error)(n))):403===e.response.status&&(n.message="Forbidden! You are not allowed to access this resource.",t(Object(Ee.error)(n)))):e.message?(n.message=e.message,t(Object(Ee.error)(n))):n.message="Your request could not be processed. Please try again."},fe=a(176),he=a.n(fe),be=function(e,t,a){var n=new he.a(e,t,a),r={isValid:n.passes()};return r.isValid||(r.errors=n.errors.all()),r},ye=function(){return function(){var e=Object($.a)(H.a.mark((function e(t,a){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHING"}),e.prev=1,e.next=4,Y.a.get("/api/category/list");case 4:n=e.sent,t({type:"src/Category/FETCH_CATEGORIES",payload:n.data.categories}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),ge(e.t0,t),t({type:"REQUEST_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},ve=a(298),Oe=function(){return function(){var e=Object($.a)(H.a.mark((function e(t,a){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_BRANDs_REQUEST"}),e.prev=1,e.next=4,Y.a.get("/api/brand/select");case 4:n=e.sent,t({type:"src/Brand/FETCH_STORE_BRANDS",payload:n.data.brands}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ge(e.t0,t);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},Se=function(){return function(){var e=Object($.a)(H.a.mark((function e(t,a){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_BRANDs_REQUEST"}),e.prev=1,e.next=4,Y.a.get("/api/brand/list");case 4:n=e.sent,t({type:"src/Brand/FETCH_BRANDS",payload:n.data.brands}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ge(e.t0,t);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()};function je(){var e=Ce(),t=Object(X.a)(),a=r.a.useState(!1),c=Object(P.a)(a,2),l=(c[0],c[1]),s=r.a.useState([]),u=Object(P.a)(s,2),i=(u[0],u[1],Object(o.useDispatch)()),m=Object(o.useSelector)((function(e){return e.category})).categories,d=Object(o.useSelector)((function(e){return e.brand})).brands,p=Object(o.useSelector)((function(e){return e.filter})),E=p.modalopen,g=p.categories,f=p.brands,h=r.a.useState([1550]),b=Object(P.a)(h,2),y=b[0],v=b[1];return Object(n.useEffect)((function(){0==m.length&&i(ye())}),[m]),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.button}),r.a.createElement(ae.a,null),r.a.createElement(te.a,{className:e.drawer,variant:"persistent",anchor:"left",open:E,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(K.a,{onClick:function(){l(!1),i({type:"Toggle"})}},"ltr"===t.direction?r.a.createElement(oe.a,null):r.a.createElement(ue.a,null))),r.a.createElement(re.a,null),r.a.createElement(ie.a,null,r.a.createElement(ie.a.Item,null,r.a.createElement(ne.a,{id:"range-slider",gutterBottom:!0},"price range"),r.a.createElement(ce.a,{defaultValue:16,value:y,min:0,max:1600,onChange:function(e,t){v(t),i({type:"PRICERANGE",payload:t})},valueLabelDisplay:"auto","aria-labelledby":"range-slider"}))),r.a.createElement(re.a,null),r.a.createElement(de.a,{component:"legend",style:{marginTop:"0.5rem"}},"select category"),m.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(me.a,{control:r.a.createElement(pe.a,{value:e._id,checked:g.includes(e._id),onChange:function(e){i({type:"SELECTCATEGORY",payload:e.target.value})},name:"antoine"}),label:e.name,style:{marginBottom:"-0.7rem"}}))})),r.a.createElement(re.a,null),r.a.createElement(de.a,{component:"legend",style:{marginTop:"0.5rem"}},"select Brand"),d.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(me.a,{control:r.a.createElement(pe.a,{value:e._id,checked:f.includes(e._id),onChange:function(e){i({type:"SELECTBRAND",payload:e.target.value})},name:"antoine"}),label:e.name,style:{marginBottom:"-0.7rem"}}))}))),r.a.createElement("main",{className:Object(Z.a)(e.content,Object(W.a)({},e.contentShift,E))},r.a.createElement("div",{className:e.drawerHeader})))}var Ce=Object(ee.a)((function(e){return{root:{display:"flex"},button:{marginLeft:"1.5rem"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2),marginTop:"5rem"},hide:{display:"none"},drawer:{width:240,flexShrink:0,marginLeft:"1.5rem"},drawerPaper:{width:240},drawerHeader:Object(m.a)(Object(m.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},formControl:{margin:e.spacing(0),minWidth:230,maxWidth:300,height:100}}})),Ie=a(104),_e=a.n(Ie),Re=function(){var e=Object(o.useDispatch)(),t=Object(n.useState)(!1),a=Object(P.a)(t,2),c=(a[0],a[1],Object(o.useSelector)((function(e){return e.userLogin})).userInfo);return r.a.createElement("header",null,r.a.createElement(N.a,{bg:"white",variant:"pink",expand:"lg",collapseOnSelect:!0},r.a.createElement(w.a,null,r.a.createElement(K.a,{"aria-label":"open drawer",edge:"start",style:{height:"2rem",width:"2rem"}},r.a.createElement(_e.a,{color:"white",onClick:function(){e({type:"Toggle"})}})),r.a.createElement(U.LinkContainer,{to:"/"},r.a.createElement(N.a.Brand,null,"test shop")),r.a.createElement(N.a.Brand,null,"it is test website"),r.a.createElement(N.a.Toggle,{"aria-controls":"basic-navbar-nav",style:{backgroundColor:"white"}},"sign in"),r.a.createElement(N.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(x.d,{render:function(e){var t=e.history;return r.a.createElement(z,{history:t})}}),r.a.createElement(F.a,{className:"ml-auto"},r.a.createElement(U.LinkContainer,{to:"/cart"},r.a.createElement(F.a.Link,null,r.a.createElement("i",{className:"fas fa-shopping-cart"})," Cart")),c?r.a.createElement(B.a,{title:c.name,id:"username"},r.a.createElement(U.LinkContainer,{to:"/profile"},r.a.createElement(B.a.Item,null,"Profile")),r.a.createElement(B.a.Item,{onClick:function(){e(V())}},"Logout")):r.a.createElement(U.LinkContainer,{to:"/login"},r.a.createElement(F.a.Link,null,r.a.createElement("i",{className:"fas fa-user"})," Sign In")),c&&c.isAdmin&&r.a.createElement(B.a,{title:"Admin",id:"adminmenu"},r.a.createElement(U.LinkContainer,{to:"/admin/userlist"},r.a.createElement(B.a.Item,null,"Users")),r.a.createElement(U.LinkContainer,{to:"/admin/productlist"},r.a.createElement(B.a.Item,null,"Products")),r.a.createElement(U.LinkContainer,{to:"/admin/brandlist"},r.a.createElement(B.a.Item,null,"Brand")),r.a.createElement(U.LinkContainer,{to:"/admin/categorylist"},r.a.createElement(B.a.Item,null,"category")),r.a.createElement(U.LinkContainer,{to:"/admin/orderlist"},r.a.createElement(B.a.Item,null,"Orders"))),c&&c.seller&&!c.isAdmin&&r.a.createElement(B.a,{title:"seller",id:"adminmenu"},r.a.createElement(U.LinkContainer,{to:"/admin/productlist"},r.a.createElement(B.a.Item,null,"Products")),r.a.createElement(U.LinkContainer,{to:"/admin/orderlist"},r.a.createElement(B.a.Item,null,"Orders"))))))))},ke=a(308),Te=a(174),Le=function(){return r.a.createElement("footer",null,r.a.createElement(w.a,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,{className:"text-center py-3"},"Copyright jaypatel"))))},De=a(51),Ae=a(320),xe=function(e){var t=e.value,a=e.text,n=e.color;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,a&&a))};xe.defaultProps={color:"#f8e825"};var we=xe,Pe=function(e){var t=e.product;return r.a.createElement(Ae.a,{className:"my-3 p-3 rounded"},r.a.createElement(A.Link,{to:"/product/".concat(t._id)},r.a.createElement(Ae.a.Img,{src:t.image,variant:"top",style:{height:"13rem"}})),r.a.createElement(Ae.a.Body,null,r.a.createElement(A.Link,{to:"/product/".concat(t._id)},r.a.createElement(Ae.a.Title,{as:"div"},r.a.createElement("strong",null,t.name))),r.a.createElement(Ae.a.Text,{as:"div"},r.a.createElement(we,{value:t.rating,text:"".concat(t.numReviews," reviews")})),r.a.createElement(Ae.a.Text,{as:"h3"},"$",t.price),r.a.createElement(Ae.a.Text,{as:"div"},"Location:",r.a.createElement("strong",null,t.userLocation))))},Ue=a(318),Ne=function(e){var t=e.variant,a=e.children;return r.a.createElement(Ue.a,{variant:t},a)};Ne.defaultProps={variant:"info"};var Fe=Ne,Be=a(309),Ge=function(){return r.a.createElement(Be.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading..."))},Me=a(321),ze=function(e){var t=e.pages,a=e.page,n=e.isAdmin,c=void 0!==n&&n,l=e.keyword,o=void 0===l?"":l;return t>1&&r.a.createElement(Me.a,null,Object(f.a)(Array(t).keys()).map((function(e){return r.a.createElement(U.LinkContainer,{key:e+1,to:c?"/admin/productlist/".concat(e+1):o?"/search/".concat(o,"/page/").concat(e+1):"/page/".concat(e+1)},r.a.createElement(Me.a.Item,{active:e+1===a},e+1))})))},Qe=a(314),He=a(310),$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object($.a)(H.a.mark((function a(n){var r,c;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_REQUEST"}),a.next=4,Y.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:r=a.sent,c=r.data,n({type:"PRODUCT_LIST_SUCCESS",payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:d,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},qe=function(e){return function(){var t=Object($.a)(H.a.mark((function t(a){var n,r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_REQUEST"}),t.next=4,Y.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:d,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ye=function(){return function(){var e=Object($.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_REQUEST"}),e.next=4,Y.a.get("/api/products/select");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_SELECT_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:d,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Ve=function(){var e=Object(o.useDispatch)(),t=Object(o.useSelector)((function(e){return e.productList})),a=t.loading,c=t.error,l=t.topproducts;return Object(n.useEffect)((function(){e(function(){var e=Object($.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_REQUEST"}),e.next=4,Y.a.get("/api/products/top");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_TOP_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:d,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?r.a.createElement(Ge,null):c?r.a.createElement(Fe,{variant:"danger"},c):r.a.createElement(Qe.a,{pause:"hover",className:"bg-dark"},l.map((function(e){return r.a.createElement(Qe.a.Item,{key:e._id},r.a.createElement(A.Link,{to:"/product/".concat(e._id)},r.a.createElement(He.a,{src:e.image,alt:e.name,fluid:!0}),r.a.createElement(Qe.a.Caption,{className:"carousel-caption"},r.a.createElement("h2",null,e.name," ($",e.price,")"))))})))},Je=a(186),We=function(e){var t=e.title,a=e.description,n=e.keywords;return r.a.createElement(Je.a,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"description",content:a}),r.a.createElement("meta",{name:"keyword",content:n}))};We.defaultProps={title:"Welcome To ProShop",description:"We sell the best products for cheap",keywords:"electronics, buy electronics, cheap electroincs"};var Ze=We,Ke=a(324),Xe=a(316);function et(e){var t=e.match,a=tt(),c=t.params.keyword,l=t.params.pageNumber||1,s=Object(o.useDispatch)(),u=Object(o.useSelector)((function(e){return e.productList})),i=u.loading,m=u.error,d=u.products,p=u.page,E=u.pages,g=Object(o.useSelector)((function(e){return e.category})).categories,f=Object(o.useSelector)((function(e){return e.brand})).brands;g.length;var h=r.a.useState([]),b=Object(P.a)(h,2),y=b[0],v=b[1],O=Object(n.useState)(!1),S=Object(P.a)(O,2),j=S[0],C=(S[1],function(e){v(e.target.value),console.log(e.target.value),s({type:"SORTED",payload:e.target.value})});Object(n.useEffect)((function(){s({type:"INITSELECTCATEGORY",payload:g}),s({type:"INITSELECTBRAND",payload:f})}),[g,f]),Object(n.useEffect)((function(){0===d.length&&(s($e(c,l)),s(Se()))}),[s,c,l]);var I,_=Object(o.useSelector)((function(e){return e.filter})),R=_.sort,k=_.price,T=m?[]:d.filter((function(e){return e.price<=k})),L=_.categories,D=_.brands,x=m?[]:T.filter((function(e){return L.includes(e.category._id)}));return I=m?[]:x.filter((function(e){return D.includes(e.brand._id)})),"Prcie low to high"===R?I.sort((function(e,t){return e.price-t.price})):"Prcie high to low"===R?I.sort((function(e,t){return t.price-e.price})):"name A to Z"===R?I.sort((function(e,t){return e.name.localeCompare(t.name)})):"Heighest Rating"===R&&I.sort((function(e,t){return t.rating-e.rating})),r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.button}),r.a.createElement(ae.a,null),r.a.createElement(je,null),r.a.createElement("main",{className:Object(Z.a)(a.content,Object(W.a)({},a.contentShift,j))},r.a.createElement("div",{className:a.drawerHeader}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement(A.Link,{className:"btn btn-light my-3",to:"/brand",style:{backgroundColor:"pink",margin:"1rem"}},"Product By brand"),r.a.createElement(A.Link,{className:"btn btn-light my-3",to:"/category",style:{backgroundColor:"pink"}},"Product By category"),c?r.a.createElement(A.Link,{to:"/",className:"btn btn-light"},"Go Back"):r.a.createElement(Ve,null),r.a.createElement("h1",null,"Latest Products"),r.a.createElement(De.a,null,r.a.createElement(De.a.Toggle,{variant:"success",id:"dropdown-basic"},"Sort By"),r.a.createElement(De.a.Menu,null,["Prcie low to high","Prcie high to low","name A to Z","Heighest Rating"].map((function(e){return r.a.createElement(Ke.a,{"aria-label":"filter by",name:"gender1",key:e,value:y,onChange:C},r.a.createElement(me.a,{value:e,control:r.a.createElement(Xe.a,null),label:e}))})))),i?r.a.createElement(Ge,null):m?r.a.createElement(Fe,{variant:"danger"},m):r.a.createElement("div",null,r.a.createElement(ke.a,null,I.slice(0+10*(l-1),10*l).map((function(e){return r.a.createElement(Te.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(Pe,{product:e}))}))),r.a.createElement(ze,{pages:E,page:p,keyword:c||""})))))}var tt=Object(ee.a)((function(e){return{root:{display:"flex",marginLeft:80},button:{marginLeft:"1.5rem"},menuButton:{marginRight:e.spacing(2),marginTop:"5rem"},content:Object(W.a)({flexGrow:1,padding:e.spacing(4),marginLeft:200,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},"marginLeft",-240)}})),at=function(e){var t=e.brand;return r.a.createElement(Ae.a,{className:"my-3 p-3 rounded"},r.a.createElement(A.Link,{to:"/brand/".concat(t.slug)},r.a.createElement(Ae.a.Img,{src:t.image,variant:"top"})),r.a.createElement(Ae.a.Body,null,r.a.createElement(A.Link,{to:"/brand/".concat(t.slug)},r.a.createElement(Ae.a.Title,{as:"h3",color:"blue"},r.a.createElement("strong",null,t.name))),r.a.createElement(Ae.a.Text,{as:"h5"},t.description)))},nt=function(e){var t=e.match,a=t.params.keyword,c=t.params.pageNumber||1,l=Object(o.useDispatch)(),s=Object(o.useSelector)((function(e){return e.brand})),u=s.brands,i=s.loading,m=s.error;return Object(n.useEffect)((function(){l($e(a,c)),l(Se())}),[l,a,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement("h1",null," SELECT BRAND"),r.a.createElement(A.Link,{className:"btn btn-light my-3",to:"/",style:{backgroundColor:"pink",margin:"1rem"}},"Go back"),i?r.a.createElement(Ge,null):m?r.a.createElement(Fe,{variant:"danger"},m):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,null,u.map((function(e){return r.a.createElement(Te.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(at,{brand:e}))}))),r.a.createElement(ze,{keyword:a||""})))},rt=function(e){var t=e.match,a=t.params.keyword,c=t.params.slug,l=t.params.pageNumber||1,s=Object(o.useDispatch)(),u=Object(o.useSelector)((function(e){return e.brand})),i=u.brands,m=u.loading,d=u.error,p=i.filter((function(e){return e.slug===c}));return Object(n.useEffect)((function(){s($e(a,l)),s(Se())}),[s,a,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement(A.Link,{className:"btn btn-light my-3",to:"/brand"},"Go Back"),p.map((function(e){return r.a.createElement("h1",null,e.name)})),m?r.a.createElement(Ge,null):d?r.a.createElement(Fe,{variant:"danger"},d):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,null,p.map((function(e){return e.products.map((function(e){return r.a.createElement(Te.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(Pe,{product:e}))}))}))),r.a.createElement(ze,{keyword:a||""})))},ct=function(e,t,a){return function(){var n=Object($.a)(H.a.mark((function n(r,c){var l,o,s,u,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c(),o=l.userLogin.userInfo,s=localStorage.getItem("cart_id")){n.next=10;break}return n.next=5,Y.a.post("/api/cart/add",{product:e,qty:t,seller:a},{headers:{Authorization:"Bearer ".concat(o.token)}});case 5:u=n.sent,u.data,r(st()),n.next=15;break;case 10:return n.next=12,Y.a.put("/api/cart/add/".concat(s),{product:e,qty:t,seller:a},{headers:{Authorization:"Bearer ".concat(o.token)}});case 12:i=n.sent,i.data,r(st());case 15:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},lt=function(){return function(){var e=Object($.a)(H.a.mark((function e(t,a){var n,r,c,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("cart_id"),r=a(),c=r.userLogin.userInfo,n){e.next=9;break}return e.next=6,Y.a.get("/api/cart/id",{headers:{Authorization:"Bearer ".concat(c.token)}});case 6:l=e.sent,t({type:"GET_CART_ITEM",payload:l.data.products}),t(ot(l.data.cartId));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},ot=function(e){return function(t,a){t({type:"SET_CART_ID",payload:e})}},st=function(){return function(){var e=Object($.a)(H.a.mark((function e(t,a){var n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a(),r=n.userLogin.userInfo,e.next=4,Y.a.get("/api/cart/id",{headers:{Authorization:"Bearer ".concat(r.token)}});case 4:c=e.sent,t({type:"GET_CART_ITEM",payload:c.data.products}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},ut=function(e){var t=e.history,a=e.match,c=Object(n.useState)(1),l=Object(P.a)(c,2),s=l[0],u=l[1],i=Object(n.useState)(0),m=Object(P.a)(i,2),p=m[0],E=m[1],g=Object(n.useState)(""),h=Object(P.a)(g,2),b=h[0],y=h[1],v=Object(o.useDispatch)(),O=Object(o.useSelector)((function(e){return e.productList})),S=O.loading,j=O.error,C=O.product,I=Object(o.useSelector)((function(e){return e.userLogin})).userInfo,_=Object(o.useSelector)((function(e){return e.productList})),R=_.success,k=_.loading,T=_.error;Object(n.useEffect)((function(){v(lt()),R&&(E(0),y("")),v(qe(a.params.id)),v({type:"PRODUCT_CREATE_REVIEW_RESET"})}),[v,a,R]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.Link,{className:"btn btn-light my-3",to:"/"},"Go Back"),S?r.a.createElement(Ge,null):j?r.a.createElement(Fe,{variant:"danger"},j):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,{title:C.name}),r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:6},r.a.createElement(He.a,{src:C.image,alt:C.name,fluid:!0})),r.a.createElement(Te.a,{md:3},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h3",null,C.name)),r.a.createElement(ie.a.Item,null,r.a.createElement(we,{value:C.rating,text:"".concat(C.numReviews," reviews")})),r.a.createElement(ie.a.Item,null,"Price: $",C.price),r.a.createElement(ie.a.Item,null,"Description: ",C.description))),r.a.createElement(Te.a,{md:3},r.a.createElement(Ae.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Price:"),r.a.createElement(Te.a,null,r.a.createElement("strong",null,"$",C.price)))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Status:"),r.a.createElement(Te.a,null,C.countInStock>0?"In Stock":"Out Of Stock"))),C.countInStock>0&&r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Qty"),r.a.createElement(Te.a,null,r.a.createElement(G.a.Control,{as:"select",value:s,onChange:function(e){return u(e.target.value)}},Object(f.a)(Array(C.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))))),r.a.createElement(ie.a.Item,null,r.a.createElement(M.a,{onClick:function(){v(ct(a.params.id,s,C.user)),t.push("/cart")},className:"btn-block",type:"button",disabled:0===C.countInStock},"Add To Cart")))))),r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:6},r.a.createElement("h2",null,"Reviews"),0===C.reviews.length&&r.a.createElement(Fe,null,"No Reviews"),r.a.createElement(ie.a,{variant:"flush"},C.reviews.map((function(e){return r.a.createElement(ie.a.Item,{key:e._id},r.a.createElement("strong",null,e.name),r.a.createElement(we,{value:e.rating}),r.a.createElement("p",null,e.createdAt.substring(0,10)),r.a.createElement("p",null,e.comment))})),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Write a Customer Review"),R&&r.a.createElement(Fe,{variant:"success"},"Review submitted successfully"),k&&r.a.createElement(Ge,null),T&&r.a.createElement(Fe,{variant:"danger"},T),I?r.a.createElement(G.a,{onSubmit:function(e){var t,n;e.preventDefault(),v((t=a.params.id,n={rating:p,comment:b},function(){var e=Object($.a)(H.a.mark((function e(a,r){var c,l,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PRODUCT_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},e.next=6,Y.a.post("/api/products/".concat(t,"/reviews"),n,o);case 6:a({type:"PRODUCT_CREATE_REVIEW_SUCCESS"}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),"Not authorized, token failed"===(s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&a(V()),a({type:d,payload:s});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(G.a.Group,{controlId:"rating"},r.a.createElement(G.a.Label,null,"Rating"),r.a.createElement(G.a.Control,{as:"select",value:p,onChange:function(e){return E(e.target.value)}},r.a.createElement("option",{value:""},"Select..."),r.a.createElement("option",{value:"1"},"1 - Poor"),r.a.createElement("option",{value:"2"},"2 - Fair"),r.a.createElement("option",{value:"3"},"3 - Good"),r.a.createElement("option",{value:"4"},"4 - Very Good"),r.a.createElement("option",{value:"5"},"5 - Excellent"))),r.a.createElement(G.a.Group,{controlId:"comment"},r.a.createElement(G.a.Label,null,"Comment"),r.a.createElement(G.a.Control,{as:"textarea",row:"3",value:b,onChange:function(e){return y(e.target.value)}})),r.a.createElement(M.a,{disabled:k,type:"submit",variant:"primary"},"Submit")):r.a.createElement(Fe,null,"Please ",r.a.createElement(A.Link,{to:"/login"},"sign in")," to write a review"," ")))))))},it=function(e){e.match,e.location;var t=e.history,a=Object(o.useDispatch)(),c=Object(o.useSelector)((function(e){return e.cart})).cartItems,l=Object(o.useSelector)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){a(lt()),a(st()),l||t.push("/login")}),[a]);var s=function(e){a(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("cart_id"),c=n(),l=c.userLogin.userInfo,t.next=4,Y.a.delete("/api/cart/delete/".concat(r,"/").concat(e),{headers:{Authorization:"Bearer ".concat(l.token)}});case 4:a({type:"CART_REMOVE_ITEM",payload:e});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===c.length?r.a.createElement(Fe,null,"Your cart is empty ",r.a.createElement(A.Link,{to:"/"},"Go Back")):r.a.createElement(ie.a,{variant:"flush"},c.map((function(e){return r.a.createElement(ie.a.Item,{key:e.product},r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:2},r.a.createElement(He.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(Te.a,{md:3},r.a.createElement(A.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(Te.a,{md:2},"$",e.price),r.a.createElement(Te.a,{md:2},r.a.createElement(G.a.Control,{as:"select",value:e.qty,onChange:function(t){return a(ct(e.product,Number(t.target.value)))}},Object(f.a)(Array(e.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))),r.a.createElement(Te.a,{md:2},r.a.createElement(M.a,{type:"button",variant:"light",onClick:function(){return s(e.product)}},r.a.createElement("i",{className:"fas fa-trash"})))))})))),r.a.createElement(Te.a,{md:4},r.a.createElement(Ae.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Subtotal (",c.reduce((function(e,t){return e+t.qty}),0),") items"),"$",c.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),r.a.createElement(ie.a.Item,null,r.a.createElement(M.a,{type:"button",className:"btn-block",disabled:0===c.length,onClick:function(){t.push("/login?redirect=shipping")}},"Proceed To Checkout"))))))},mt=function(e){var t=e.children;return r.a.createElement(w.a,null,r.a.createElement(ke.a,{className:"justify-content-md-center"},r.a.createElement(Te.a,{xs:12,md:6},t)))},dt=function(e){var t=e.location,a=e.history,c=Object(n.useState)(""),l=Object(P.a)(c,2),s=l[0],u=l[1],i=Object(n.useState)(""),m=Object(P.a)(i,2),d=m[0],p=m[1],E=Object(o.useDispatch)(),g=Object(o.useSelector)((function(e){return e.userLogin})),f=g.loading,h=g.error,b=g.userInfo,y=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){b&&a.push(y)}),[a,b,y]);return r.a.createElement(mt,null,r.a.createElement("h1",null,"Sign In"),h&&r.a.createElement(Fe,{variant:"danger"},h),f&&r.a.createElement(Ge,null),r.a.createElement(G.a,{onSubmit:function(e){e.preventDefault(),E(function(e,t){return function(){var a=Object($.a)(H.a.mark((function a(n){var r,c,l;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_REQUEST"}),r={headers:{"Content-Type":"application/json"}},a.next=5,Y.a.post("/api/users/login",{email:e,password:t},r);case 5:c=a.sent,l=c.data,n({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"USER_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(s,d))}},r.a.createElement(G.a.Group,{controlId:"email"},r.a.createElement(G.a.Label,null,"Email Address"),r.a.createElement(G.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return u(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"password"},r.a.createElement(G.a.Label,null,"Password"),r.a.createElement(G.a.Control,{type:"password",placeholder:"Enter password",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Sign In")),r.a.createElement(ke.a,{className:"py-3"},r.a.createElement(Te.a,null,"New Customer?"," ",r.a.createElement(A.Link,{to:y?"/register?redirect=".concat(y):"/register"},"Register"))))},pt=function(e){var t=e.location,a=e.history,c=Object(n.useState)(""),l=Object(P.a)(c,2),s=l[0],u=l[1],i=Object(n.useState)(""),m=Object(P.a)(i,2),d=m[0],p=m[1],E=Object(n.useState)(""),g=Object(P.a)(E,2),f=g[0],h=g[1],b=Object(n.useState)(""),y=Object(P.a)(b,2),v=y[0],O=y[1],S=Object(n.useState)(null),j=Object(P.a)(S,2),C=j[0],I=j[1],_=Object(n.useState)(!1),R=Object(P.a)(_,2),k=R[0],T=R[1],L=Object(o.useDispatch)(),D=Object(o.useSelector)((function(e){return e.userLogin})),x=D.loading,w=D.error,U=D.userInfo,N=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){U&&a.push(N)}),[a,U,N]);return r.a.createElement(mt,null,r.a.createElement("h1",null,"Sign Up"),C&&r.a.createElement(Fe,{variant:"danger"},C),w&&r.a.createElement(Fe,{variant:"danger"},w),x&&r.a.createElement(Ge,null),r.a.createElement(G.a,{onSubmit:function(e){e.preventDefault(),f!==v?I("Passwords do not match"):L(function(e,t,a,n,r){return function(){var c=Object($.a)(H.a.mark((function c(l){var o,s,u;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,l({type:"USER_REQUEST"}),o={headers:{"Content-Type":"application/json"}},c.next=5,Y.a.post("/api/users",{name:e,email:t,password:a,seller:n,userLocation:r},o);case 5:s=c.sent,u=s.data,l({type:"USER_REGISTER_SUCCESS",payload:u}),l({type:"USER_LOGIN_SUCCESS",payload:u}),localStorage.setItem("userInfo",JSON.stringify(u)),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),l({type:"USER_FAIL",payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}}()}(s,d,f,k))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:s,onChange:function(e){return u(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"email"},r.a.createElement(G.a.Label,null,"Email Address"),r.a.createElement(G.a.Control,{type:"email",placeholder:"Enter email",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"password"},r.a.createElement(G.a.Label,null,"Password"),r.a.createElement(G.a.Control,{type:"password",placeholder:"Enter password",value:f,onChange:function(e){return h(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"confirmPassword"},r.a.createElement(G.a.Label,null,"Confirm Password"),r.a.createElement(G.a.Control,{type:"password",placeholder:"Confirm password",value:v,onChange:function(e){return O(e.target.value)}})),r.a.createElement(G.a.Group,{as:ke.a},r.a.createElement(G.a.Label,{as:"legend",column:!0,sm:2},"Radios"),r.a.createElement(Te.a,{sm:10},r.a.createElement(G.a.Check,{type:"radio",label:"Buyer",name:"formHorizontalRadios",id:"formHorizontalRadios2",onClick:function(){return T(!1)}}),r.a.createElement(G.a.Check,{type:"radio",label:"Seller",name:"formHorizontalRadios",id:"formHorizontalRadios3",onClick:function(){return T(!0)}}))),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Register")),r.a.createElement(ke.a,{className:"py-3"},r.a.createElement(Te.a,null,"Have an Account?"," ",r.a.createElement(A.Link,{to:N?"/login?redirect=".concat(N):"/login"},"Login"))))},Et=a(311),gt=function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DETAILS_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.get("/api/orders/".concat(e),l);case 6:o=t.sent,s=o.data,a({type:"ORDER_DETAILS_SUCCESS",payload:s}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:"ORDER_DETAILS_FAIL",payload:u});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ft=function(e,t){return function(){var a=Object($.a)(H.a.mark((function a(n,r){var c,l,o,s,u,i;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"ORDER_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},a.next=6,Y.a.put("/api/orders/".concat(e,"/pay"),t,o);case 6:s=a.sent,u=s.data,n({type:"ORDER_PAY_SUCCESS",payload:u}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),"Not authorized, token failed"===(i=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&n(V()),n({type:"ORDER_FAIL",payload:i});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},ht=function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.put("/api/orders/".concat(e._id,"/deliver"),{},l);case 6:o=t.sent,s=o.data,a({type:"ORDER_DELIVER_SUCCESS",payload:s}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:"ORDER_FAIL",payload:u});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},bt=function(e){e.location;var t=e.history,a=Object(n.useState)(""),c=Object(P.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),i=Object(P.a)(u,2),m=i[0],d=i[1],p=Object(n.useState)(""),E=Object(P.a)(p,2),g=E[0],f=E[1],h=Object(n.useState)(""),b=Object(P.a)(h,2),y=b[0],v=b[1],O=Object(n.useState)(null),S=Object(P.a)(O,2),j=S[0],C=S[1],I=Object(o.useDispatch)(),_=(Object(o.useSelector)((function(e){return e.userDetails})),Object(o.useSelector)((function(e){return e.userLogin}))),R=_.userInfo,k=_.user,T=_.loading,L=_.error,D=Object(o.useSelector)((function(e){return e.userUpdateProfile})).success,A=Object(o.useSelector)((function(e){return e.order})),x=A.loading,w=A.error,N=A.myOrders;Object(n.useEffect)((function(){R?k&&k.name&&!D?(s(k.name),d(k.email)):(I({type:"USER_UPDATE_PROFILE_RESET"}),I(J("profile")),I(function(){var e=Object($.a)(H.a.mark((function e(t,a){var n,r,c,l,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,Y.a.get("/api/orders/myorders",c);case 6:l=e.sent,o=l.data,t({type:"ORDER_LIST_MY_SUCCESS",payload:o}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(V()),t({type:"ORDER_FAIL",payload:s});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())):t.push("/login")}),[I,t,R,k,D]);return r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:3},r.a.createElement("h2",null,"User Profile"),j&&r.a.createElement(Fe,{variant:"danger"},j),D&&r.a.createElement(Fe,{variant:"success"},"Profile Updated"),T?r.a.createElement(Ge,null):L?r.a.createElement(Fe,{variant:"danger"},L):r.a.createElement(G.a,{onSubmit:function(e){e.preventDefault(),g!==y?C("Passwords do not match"):I(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_UPDATE_PROFILE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.put("/api/users/profile",e,l);case 6:o=t.sent,s=o.data,a({type:"USER_UPDATE_PROFILE_SUCCESS",payload:s}),a({type:"USER_LOGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:"USER_UPDATE_PROFILE_FAIL",payload:u});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:k._id,name:l,email:m,password:g}))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"email"},r.a.createElement(G.a.Label,null,"Email Address"),r.a.createElement(G.a.Control,{type:"email",placeholder:"Enter email",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"password"},r.a.createElement(G.a.Label,null,"Password"),r.a.createElement(G.a.Control,{type:"password",placeholder:"Enter password",value:g,onChange:function(e){return f(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"confirmPassword"},r.a.createElement(G.a.Label,null,"Confirm Password"),r.a.createElement(G.a.Control,{type:"password",placeholder:"Confirm password",value:y,onChange:function(e){return v(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Update"))),r.a.createElement(Te.a,{md:9},r.a.createElement("h2",null,"My Orders"),x?r.a.createElement(Ge,null):w?r.a.createElement(Fe,{variant:"danger"},w):r.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,N.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(U.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(M.a,{className:"btn-sm",variant:"light"},"Details"))))}))))))},yt=function(e){var t=e.step1,a=e.step2,n=e.step3,c=e.step4;return r.a.createElement(F.a,{className:"justify-content-center mb-4"},r.a.createElement(F.a.Item,null,t?r.a.createElement(U.LinkContainer,{to:"/login"},r.a.createElement(F.a.Link,null,"Sign In")):r.a.createElement(F.a.Link,{disabled:!0},"Sign In")),r.a.createElement(F.a.Item,null,a?r.a.createElement(U.LinkContainer,{to:"/shipping"},r.a.createElement(F.a.Link,null,"Shipping")):r.a.createElement(F.a.Link,{disabled:!0},"Shipping")),r.a.createElement(F.a.Item,null,n?r.a.createElement(U.LinkContainer,{to:"/payment"},r.a.createElement(F.a.Link,null,"Payment")):r.a.createElement(F.a.Link,{disabled:!0},"Payment")),r.a.createElement(F.a.Item,null,c?r.a.createElement(U.LinkContainer,{to:"/placeorder"},r.a.createElement(F.a.Link,null,"Place Order")):r.a.createElement(F.a.Link,{disabled:!0},"Place Order")))},vt=function(e){var t=e.history,a=Object(o.useSelector)((function(e){return e.cart})).shippingAddress,c=Object(n.useState)(a.address),l=Object(P.a)(c,2),s=l[0],u=l[1],i=Object(n.useState)(a.city),m=Object(P.a)(i,2),d=m[0],p=m[1],E=Object(n.useState)(a.postalCode),g=Object(P.a)(E,2),f=g[0],h=g[1],b=Object(n.useState)(a.country),y=Object(P.a)(b,2),v=y[0],O=y[1],S=Object(o.useDispatch)();return r.a.createElement(mt,null,r.a.createElement(yt,{step1:!0,step2:!0}),r.a.createElement("h1",null,"Shipping"),r.a.createElement(G.a,{onSubmit:function(e){var a;e.preventDefault(),S((a={address:s,city:d,postalCode:f,country:v},function(e){e({type:"CART_SAVE_SHIPPING_ADDRESS",payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a))})),t.push("/payment")}},r.a.createElement(G.a.Group,{controlId:"address"},r.a.createElement(G.a.Label,null,"Address"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter address",value:s,required:!0,onChange:function(e){return u(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"city"},r.a.createElement(G.a.Label,null,"City"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter city",value:d,required:!0,onChange:function(e){return p(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"postalCode"},r.a.createElement(G.a.Label,null,"Postal Code"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter postal code",value:f,required:!0,onChange:function(e){return h(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"country"},r.a.createElement(G.a.Label,null,"Country"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter country",value:v,required:!0,onChange:function(e){return O(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Continue")))},Ot=function(e){var t=e.history;Object(o.useSelector)((function(e){return e.cart})).shippingAddress.address||t.push("/shipping");var a=Object(n.useState)("PayPal"),c=Object(P.a)(a,2),l=c[0],s=c[1],u=Object(o.useDispatch)();return r.a.createElement(mt,null,r.a.createElement(yt,{step1:!0,step2:!0,step3:!0}),r.a.createElement("h1",null,"Payment Method"),r.a.createElement(G.a,{onSubmit:function(e){var a;e.preventDefault(),u((a=l,function(e){e({type:"CART_SAVE_PAYMENT_METHOD",payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a))})),t.push("/placeorder")}},r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,{as:"legend"},"Select Method"),r.a.createElement(Te.a,null,r.a.createElement(G.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){return s(e.target.value)}}))),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Continue")))},St=function(e){var t=e.history,a=Object(o.useDispatch)(),c=Object(o.useSelector)((function(e){return e.cart}));c.shippingAddress.address?c.paymentMethod||t.push("/payment"):t.push("/shipping");var l=function(e){return(Math.round(100*e)/100).toFixed(2)};c.itemsPrice=l(c.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),c.shippingPrice=l(c.itemsPrice>100?0:100),c.taxPrice=l(Number((.15*c.itemsPrice).toFixed(2))),c.totalPrice=(Number(c.itemsPrice)+Number(c.shippingPrice)+Number(c.taxPrice)).toFixed(2);var s=Object(o.useSelector)((function(e){return e.order})),u=s.order,i=s.success,m=s.error;Object(n.useEffect)((function(){i&&(t.push("/order/".concat(u._id)),a({type:"USER_DETAILS_RESET"}),a({type:"ORDER_CREATE_RESET"}))}),[t,i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:"),c.shippingAddress.address,", ",c.shippingAddress.city," ",c.shippingAddress.postalCode,","," ",c.shippingAddress.country)),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("strong",null,"Method: "),c.paymentMethod),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===c.cartItems.length?r.a.createElement(Fe,null,"Your cart is empty"):r.a.createElement(ie.a,{variant:"flush"},c.cartItems.map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:1},r.a.createElement(He.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(Te.a,null,r.a.createElement(A.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(Te.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(Te.a,{md:4},r.a.createElement(Ae.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Items"),r.a.createElement(Te.a,null,"$",c.itemsPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Shipping"),r.a.createElement(Te.a,null,"$",c.shippingPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Tax"),r.a.createElement(Te.a,null,"$",c.taxPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Total"),r.a.createElement(Te.a,null,"$",c.totalPrice))),r.a.createElement(ie.a.Item,null,m&&r.a.createElement(Fe,{variant:"danger"},m)),r.a.createElement(ie.a.Item,null,r.a.createElement(M.a,{type:"button",className:"btn-block",disabled:0===c.cartItems,onClick:function(){a(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.post("/api/orders",e,l);case 6:o=t.sent,s=o.data,a({type:"ORDER_CREATE_SUCCESS",payload:s}),a({type:"CART_RESET",payload:s}),localStorage.removeItem("cartItems"),localStorage.removeItem("cart_id"),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:"ORDER_FAIL",payload:u});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:c.cartItems,shippingAddress:c.shippingAddress,paymentMethod:c.paymentMethod,itemsPrice:c.itemsPrice,shippingPrice:c.shippingPrice,taxPrice:c.taxPrice,totalPrice:c.totalPrice}))}},"Place Order")))))))},jt=a(62),Ct=function(e){var t,a=e.match,c=e.history,l=a.params.id,s=Object(n.useState)(!1),u=Object(P.a)(s,2),i=u[0],m=u[1],d=Object(o.useDispatch)(),p=Object(o.useSelector)((function(e){return e.orderDetails})),E=p.order,g=p.loading,f=p.error,h=p.success,b=Object(o.useSelector)((function(e){return e.userLogin})).userInfo;if(!g){E.itemsPrice=(t=E.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2))}Object(n.useEffect)((function(){b||c.push("/login");var e=function(){var e=Object($.a)(H.a.mark((function e(){var t,a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){m(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!E||h||h||E._id!==l?(d({type:"ORDER_PAY_RESET"}),d({type:"ORDER_DELIVER_RESET"}),d(gt(l))):E.isPaid||(window.paypal?m(!0):e())}),[d,l,h,h,E]);return g?r.a.createElement(Ge,null):f?r.a.createElement(Fe,{variant:"danger"},f):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Order ",E._id),r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: ")," ",E.user.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: ")," ",r.a.createElement("a",{href:"mailto:".concat(E.user.email)},E.user.email)),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:"),E.shippingAddress.address,", ",E.shippingAddress.city," ",E.shippingAddress.postalCode,","," ",E.shippingAddress.country),E.isDelivered?r.a.createElement(Fe,{variant:"success"},"Delivered on ",E.deliveredAt):r.a.createElement(Fe,{variant:"danger"},"Not Delivered")),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method: "),E.paymentMethod),E.isPaid?r.a.createElement(Fe,{variant:"success"},"Paid on ",E.paidAt):r.a.createElement(Fe,{variant:"danger"},"Not Paid")),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===E.orderItems.length?r.a.createElement(Fe,null,"Order is empty"):r.a.createElement(ie.a,{variant:"flush"},E.orderItems.map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:1},r.a.createElement(He.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(Te.a,null,r.a.createElement(A.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(Te.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(Te.a,{md:4},r.a.createElement(Ae.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Items"),r.a.createElement(Te.a,null,"$",E.itemsPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Shipping"),r.a.createElement(Te.a,null,"$",E.shippingPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Tax"),r.a.createElement(Te.a,null,"$",E.taxPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Total"),r.a.createElement(Te.a,null,"$",E.totalPrice))),!E.isPaid&&r.a.createElement(ie.a.Item,null,g&&r.a.createElement(Ge,null),i?r.a.createElement(jt.PayPalButton,{amount:E.totalPrice,onSuccess:function(e){console.log(e),d(ft(l,e))}}):r.a.createElement(Ge,null)),g&&r.a.createElement(Ge,null),b&&b.isAdmin&&E.isPaid&&!E.isDelivered&&r.a.createElement(ie.a.Item,null,r.a.createElement(M.a,{type:"button",className:"btn btn-block",onClick:function(){d(ht(E))}},"Mark As Delivered")))))))},It=function(e){var t=e.history,a=Object(o.useDispatch)(),c=Object(o.useSelector)((function(e){return e.userList})),l=c.loading,s=c.error,u=c.users,i=Object(o.useSelector)((function(e){return e.userLogin})).userInfo,m=Object(o.useSelector)((function(e){return e.userLogin})).success;Object(n.useEffect)((function(){0===u.length&&i&&i.isAdmin&&a(function(){var e=Object($.a)(H.a.mark((function e(t,a){var n,r,c,l,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,Y.a.get("/api/users",c);case 6:l=e.sent,o=l.data,t({type:"USER_LIST_SUCCESS",payload:o}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(V()),t({type:"USER_FAIL",payload:s});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()),i||i.isAdmin||t.push("/login")}),[a,t,m,i]);var d=function(e){window.confirm("Are you sure")&&a(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.delete("/api/users/".concat(e),l);case 6:a({type:"USER_DELETE_SUCCESS"}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:"USER_FAIL",payload:o});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Users"),l?r.a.createElement(Ge,null):s?r.a.createElement(Fe,{variant:"danger"},s):r.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"ADMIN"),r.a.createElement("th",null,"seller"),r.a.createElement("th",null))),r.a.createElement("tbody",null,u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),r.a.createElement("td",null,e.isAdmin?r.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.seller?r.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(U.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},r.a.createElement(M.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(M.a,{variant:"danger",className:"btn-sm",onClick:function(){return d(e._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))))},_t=function(e){var t=e.match,a=e.history,c=t.params.id,l=Object(n.useState)(""),s=Object(P.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(""),d=Object(P.a)(m,2),p=d[0],E=d[1],g=Object(n.useState)(!1),f=Object(P.a)(g,2),h=f[0],b=f[1],y=Object(n.useState)(!1),v=Object(P.a)(y,2),O=v[0],S=v[1],j=Object(o.useDispatch)(),C=Object(o.useSelector)((function(e){return e.userLogin})),I=C.loading,_=C.error,R=C.user,k=Object(o.useSelector)((function(e){return e.userLogin})),T=k.loading,L=k.error,D=k.success;Object(n.useEffect)((function(){D?(j({type:"USER_UPDATE_RESET"}),a.push("/admin/userlist")):R&&R._id===c?(i(R.name),E(R.email),b(R.isAdmin),S(R.seller)):j(J(c))}),[j,a,c,R,D]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.Link,{to:"/admin/userlist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(mt,null,r.a.createElement("h1",null,"Edit User"),T&&r.a.createElement(Ge,null),L&&r.a.createElement(Fe,{variant:"danger"},L),I?r.a.createElement(Ge,null):_?r.a.createElement(Fe,{variant:"danger"},_):r.a.createElement(G.a,{onSubmit:function(e){e.preventDefault(),j(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.put("/api/users/".concat(e._id),e,l);case 6:o=t.sent,s=o.data,a({type:"USER_UPDATE_SUCCESS"}),a({type:"USER_DETAILS_SUCCESS",payload:s}),a({type:"USER_DETAILS_RESET"}),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:"USER_FAIL",payload:u});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:c,name:u,email:p,isAdmin:h,seller:O}))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:u,onChange:function(e){return i(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"email"},r.a.createElement(G.a.Label,null,"Email Address"),r.a.createElement(G.a.Control,{type:"email",placeholder:"Enter email",value:p,onChange:function(e){return E(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"seller"},r.a.createElement(G.a.Check,{type:"checkbox",label:"seller",checked:O,onChange:function(e){return S(e.target.checked)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Update"))))},Rt=function(e){var t=e.history,a=e.match.params.pageNumber||1,c=Object(o.useDispatch)(),l=Object(o.useSelector)((function(e){return e.productList})),s=l.loading,u=l.error,i=l.sellerproducts,m=l.page,p=l.pages,E=l.success,g=l.product,f=Object(o.useSelector)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){c({type:"PRODUCT_CREATE_RESET"}),f&&(f.isAdmin||f.seller)||t.push("/login"),E?t.push("/admin/product/".concat(g._id,"/edit")):f.isAdmin?c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object($.a)(H.a.mark((function a(n,r){var c,l,o,s,u;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(l.token)}},a.next=6,Y.a.get("/api/products/admin?keyword=".concat(e,"&pageNumber=").concat(t),o);case 6:s=a.sent,u=s.data,n({type:"PRODUCTSELLER_LIST_SUCCESS",payload:u}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:d,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}("",a)):c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object($.a)(H.a.mark((function a(n,r){var c,l,o,s,u;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(l.token)}},a.next=6,Y.a.get("/api/products/seller?keyword=".concat(e,"&pageNumber=").concat(t),o);case 6:s=a.sent,u=s.data,n({type:"PRODUCTSELLER_LIST_SUCCESS",payload:u}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:d,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}("",a))}),[c,t,f,E,g,a]);var h=function(e){window.confirm("Are you sure")&&c(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.delete("/api/products/".concat(e),l);case 6:a({type:"PRODUCT_DELETE_SUCCESS"}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:d,payload:o});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"align-items-center"},r.a.createElement(Te.a,null,r.a.createElement("h1",null,"Products")),r.a.createElement(Te.a,{className:"text-right"},r.a.createElement(M.a,{className:"my-3",onClick:function(){t.push("/admin/product/add")}},r.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),u&&r.a.createElement(Fe,{variant:"danger"},u),u&&r.a.createElement(Fe,{variant:"danger"},u),s?r.a.createElement(Ge,null):u?r.a.createElement(Fe,{variant:"danger"},u):r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"image"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"stoke"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"BRAND"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,r.a.createElement("img",{src:e.image,style:{width:"4rem",height:"4rem"}})),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.countInStock),e.category.slug?r.a.createElement("td",null,e.category.slug):r.a.createElement("td",null,null),e.brand.slug?r.a.createElement("td",null,e.brand.slug):r.a.createElement("td",null,null),r.a.createElement("td",null,r.a.createElement(U.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},r.a.createElement(M.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(M.a,{variant:"danger",className:"btn-sm",onClick:function(){return h(e._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))),r.a.createElement(ze,{pages:p,page:m,isAdmin:!0})))},kt=function(e){var t=e.match,a=e.history,c=t.params.id,l=Object(n.useState)(""),s=Object(P.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(0),p=Object(P.a)(m,2),E=p[0],g=p[1],f=Object(n.useState)(""),h=Object(P.a)(f,2),b=h[0],y=h[1],v=Object(n.useState)(""),O=Object(P.a)(v,2),S=O[0],j=O[1],C=Object(n.useState)(""),I=Object(P.a)(C,2),_=I[0],R=I[1],k=Object(n.useState)(0),T=Object(P.a)(k,2),L=T[0],D=T[1],x=Object(n.useState)(""),w=Object(P.a)(x,2),U=w[0],N=w[1],F=Object(n.useState)(!1),B=Object(P.a)(F,2),z=B[0],Q=B[1],q=Object(n.useState)(""),J=Object(P.a)(q,2),W=J[0],Z=J[1],K=Object(o.useDispatch)(),X=Object(o.useSelector)((function(e){return e.productList})),ee=X.loading,te=X.error,ae=X.product,ne=X.success,re=Object(o.useSelector)((function(e){return e.category})).categories,ce=JSON.parse(localStorage.getItem("userInfo")),le=Object(o.useSelector)((function(e){return e.brand})).storeBrands;Object(n.useEffect)((function(){ae.user===ce._id||ce.isAdmin||a.push("/"),K(ye()),K(Oe()),ne?(K({type:"PRODUCT_UPDATE_RESET"}),a.push("/admin/productlist")):ae.name&&ae._id===c?(i(ae.name),g(ae.price),y(ae.image),j(ae.brand),R(ae.category),D(ae.countInStock),N(ae.description),Z(ae.userLocation)):K(qe(c))}),[K,a,c,ae,ne]);var oe=function(){var e=Object($.a)(H.a.mark((function e(t){var a,n,r,c,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),Q(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Y.a.post("/api/upload",n,r);case 8:c=e.sent,l=c.data,y(l),Q(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),Q(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.Link,{to:"/admin/productlist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(mt,null,r.a.createElement("h1",null,"Edit Product"),te&&r.a.createElement(Fe,{variant:"danger"},te),ee?r.a.createElement(Ge,null):r.a.createElement(G.a,{onSubmit:function(e){e.preventDefault(),K(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.put("/api/products/".concat(e._id),e,l);case 6:o=t.sent,s=o.data,a({type:"PRODUCT_UPDATE_SUCCESS",payload:s}),a({type:"PRODUCT_DETAILS_SUCCESS",payload:s}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:d,payload:u});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:c,name:u,price:E,image:b,brand:S,category:_,description:U,countInStock:L,userLocation:W}))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:u,onChange:function(e){return i(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"price"},r.a.createElement(G.a.Label,null,"Price"),r.a.createElement(G.a.Control,{type:"number",placeholder:"Enter price",value:E,onChange:function(e){return g(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"image"},r.a.createElement(G.a.Label,null,"Image"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter image url",value:b,onChange:function(e){return y(e.target.value)}}),r.a.createElement(G.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:oe}),z&&r.a.createElement(Ge,null)),r.a.createElement(G.a.Group,{controlId:"brand"},r.a.createElement(G.a.Label,null,"Brand"),r.a.createElement(G.a.Control,{as:"select",value:S,onChange:function(e){return j(e.target.value)}},le.map((function(e){return r.a.createElement("option",{value:e._id},e.slug)})))),r.a.createElement(G.a.Group,{controlId:"countInStock"},r.a.createElement(G.a.Label,null,"Count In Stock"),r.a.createElement(G.a.Control,{type:"number",placeholder:"Enter countInStock",value:L,onChange:function(e){return D(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"category"},r.a.createElement(G.a.Control,{as:"select",value:_,onChange:function(e){return R(e.target.value)}},r.a.createElement("option",{value:""},"select category"),re.map((function(e){return r.a.createElement("option",{value:e._id},e.slug)})))),r.a.createElement(G.a.Group,{controlId:"Location"},r.a.createElement(G.a.Label,null,"Location"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter Location",value:"".concat(W),onChange:function(e){return Z(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"description"},r.a.createElement(G.a.Label,null,"Description"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter description",value:U,onChange:function(e){return N(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Update"))))},Tt=function(e){e.match;var t=e.history,a=Object(n.useState)("T-shirt"),c=Object(P.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(20),i=Object(P.a)(u,2),m=i[0],p=i[1],E=Object(n.useState)(""),g=Object(P.a)(E,2),f=g[0],h=g[1],b=Object(n.useState)(""),y=Object(P.a)(b,2),v=y[0],O=y[1],S=Object(n.useState)(""),j=Object(P.a)(S,2),C=j[0],I=j[1],_=Object(n.useState)(10),R=Object(P.a)(_,2),k=R[0],T=R[1],L=Object(n.useState)(""),D=Object(P.a)(L,2),x=D[0],w=D[1],U=Object(n.useState)(!1),N=Object(P.a)(U,2),F=N[0],B=N[1],z=Object(o.useDispatch)(),Q=Object(o.useSelector)((function(e){return e.productList})),q=Q.loading,J=Q.error,W=Q.product,Z=Object(o.useSelector)((function(e){return e.productList})),K=Z.loading,X=(Z.error,Z.success),ee=Object(o.useSelector)((function(e){return e.category})).categories,te=Object(o.useSelector)((function(e){return e.brand})).storeBrands,ae=Object(n.useState)(""),ne=Object(P.a)(ae,2),re=ne[0],ce=ne[1],le=Object(n.useState)(null),oe=Object(P.a)(le,2);oe[0],oe[1];Object(n.useEffect)((function(){z(ye()),z(Oe()),fetch("https://geolocation-db.com/json/7a802a00-8c89-11eb-9c50-4fd4fef29257/157.32.96.46").then((function(e){return e.json()})).then((function(e){return ce(e.state)})),X&&(z({type:"PRODUCT_UPDATE_RESET"}),t.push("/admin/productlist"))}),[z,t,W,X]);var se=function(){var e=Object($.a)(H.a.mark((function e(t){var a,n,r,c,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),B(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Y.a.post("/api/upload",n,r);case 8:c=e.sent,l=c.data,h(l),B(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),B(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.Link,{to:"/admin/productlist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(mt,null,r.a.createElement("h1",null,"ADD Product"),K&&r.a.createElement(Ge,null),J&&r.a.createElement(Fe,{variant:"danger"},J.message),q?r.a.createElement(Ge,null):r.a.createElement(G.a,{onSubmit:function(e){e.preventDefault(),z(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.post("/api/products",e,l);case 6:o=t.sent,s=o.data,a({type:"PRODUCT_UPDATE_SUCCESS",payload:s}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(V()),a({type:d,payload:u});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({name:l,price:m,image:f,brand:v,category:C,description:x,countInStock:k,userLocation:re}))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"price"},r.a.createElement(G.a.Label,null,"Price"),r.a.createElement(G.a.Control,{type:"number",placeholder:"Enter price",value:m,onChange:function(e){return p(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"image"},r.a.createElement(G.a.Label,null,"Image"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter image url",value:f,onChange:function(e){return h(e.target.value)}}),r.a.createElement(G.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:se}),F&&r.a.createElement(Ge,null)),r.a.createElement(G.a.Group,{controlId:"brand"},r.a.createElement(G.a.Control,{as:"select",value:v,onChange:function(e){return O(e.target.value)}},r.a.createElement("option",{value:""}," select brand"),te.map((function(e){return r.a.createElement("option",{value:e._id},e.slug)})))),r.a.createElement(G.a.Group,{controlId:"countInStock"},r.a.createElement(G.a.Label,null,"Count In Stock"),r.a.createElement(G.a.Control,{type:"number",placeholder:"Enter countInStock",value:k,onChange:function(e){return T(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"category"},r.a.createElement(G.a.Control,{as:"select",value:C,onChange:function(e){return I(e.target.value)}},r.a.createElement("option",{value:""},"select category"),ee.map((function(e){return r.a.createElement("option",{value:e._id},e.slug)})))),r.a.createElement(G.a.Group,{controlId:"Location"},r.a.createElement(G.a.Label,null,"Location"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter Location",value:"".concat(re),onChange:function(e){return ce(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"description"},r.a.createElement(G.a.Label,null,"Description"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter description",value:x,onChange:function(e){return w(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Save"))))},Lt=function(e){var t=e.history,a=Object(o.useDispatch)(),c=Object(o.useSelector)((function(e){return e.order})),l=c.loading,s=c.error,u=c.Listorder,i=Object(o.useSelector)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){i&&i.isAdmin||i.seller?i.isAdmin?a(function(){var e=Object($.a)(H.a.mark((function e(t,a){var n,r,c,l,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,Y.a.get("/api/orders/admin",c);case 6:l=e.sent,o=l.data,t({type:"ORDER_LIST_SUCCESS",payload:o}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(V()),t({type:"ORDER_FAIL",payload:s});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):a(function(){var e=Object($.a)(H.a.mark((function e(t,a){var n,r,c,l,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,Y.a.get("/api/orders",c);case 6:l=e.sent,o=l.data,t({type:"ORDER_LIST_SUCCESS",payload:o}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(V()),t({type:"ORDER_FAIL",payload:s});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,i]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Orders"),l?r.a.createElement(Ge,null):s?r.a.createElement(Fe,{variant:"danger"},s):r.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"image"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,r.a.createElement("img",{src:e.orderItems[0].image,style:{width:"4rem",height:"4rem"}})),r.a.createElement("td",null,e.user&&e.user.name),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,i.isAdmin?r.a.createElement(U.LinkContainer,{to:"/admin/order/".concat(e._id)},r.a.createElement(M.a,{variant:"light",className:"btn-sm"},"Details")):r.a.createElement(U.LinkContainer,{to:"/seller/order/".concat(e._id)},r.a.createElement(M.a,{variant:"light",className:"btn-sm"},"Details"))))})))))},Dt=function(e){e.match;var t=e.history,a=Object(n.useState)(""),c=Object(P.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),i=Object(P.a)(u,2),m=i[0],d=i[1],p=Object(n.useState)(""),E=Object(P.a)(p,2),g=E[0],f=E[1],y=Object(n.useState)(!1),v=Object(P.a)(y,2),O=v[0],S=v[1],j=Object(o.useDispatch)(),C=Object(o.useSelector)((function(e){return e.productList})).loading,I=Object(o.useSelector)((function(e){return e.brand})),_=(I.storeBrands,I.success);Object(n.useEffect)((function(){j({type:h}),_&&t.push("/admin/brandlist"),j(Oe()),j(Ye())}),[j,t,_]);var R=function(){var e=Object($.a)(H.a.mark((function e(t){var a,n,r,c,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),S(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Y.a.post("/api/upload",n,r);case 8:c=e.sent,l=c.data,d(l),S(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),S(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.Link,{to:"/admin/brandlist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(mt,null,r.a.createElement("h1",null,"ADD Brand"),C?r.a.createElement(Ge,null):r.a.createElement(G.a,{onSubmit:function(e){var t;e.preventDefault(),j((t={name:l,image:m,description:g},function(){var e=Object($.a)(H.a.mark((function e(a,n){var r,c,l,o,s,u;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=5,Y.a.post("/api/brand/add",t,l);case 5:o=e.sent,s={title:"".concat(o.data.message),position:"tr",autoDismiss:1},!0===o.data.success&&(a(Object(Ee.success)(s)),a({type:b,payload:o.data.brand}),u=Object(x.k)(),a(u.push("/admin/brandlist"))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ge(e.t0,a);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"image"},r.a.createElement(G.a.Label,null,"Image"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter image url",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement(G.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:R}),O&&r.a.createElement(Ge,null)),r.a.createElement(G.a.Group,{controlId:"description"},r.a.createElement(G.a.Label,null,"Description"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter description",value:g,onChange:function(e){return f(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"SAVE"))))},At=function(e){var t=e.match,a=e.history,c=t.params.id,l=Object(o.useSelector)((function(e){return e.brand})),s=(l.storeBrands,l.brand),u=l.success,i=l.loading,m=Object(n.useState)(""),d=Object(P.a)(m,2),p=d[0],E=d[1],g=Object(n.useState)(""),f=Object(P.a)(g,2),h=f[0],y=f[1],v=Object(n.useState)([]),O=Object(P.a)(v,2),S=(O[0],O[1]),j=Object(n.useState)([]),C=Object(P.a)(j,2),I=(C[0],C[1],Object(n.useState)("")),_=Object(P.a)(I,2),R=_[0],k=_[1],T=Object(n.useState)(!1),L=Object(P.a)(T,2),D=L[0],x=L[1],w=Object(o.useDispatch)();Object(n.useEffect)((function(){if(w(Ye()),w(Oe()),u&&a.push("/admin/brandlist"),s.name&&s._id===c){var e=[];s.products.forEach((function(t){return e.push({label:t.slug,value:t._id})})),E(s.name),y(s.image),k(s.description),S(e)}else w(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.a.get("/api/brand/".concat(e));case 3:r=t.sent,a({type:"src/Brand/FETCH_BRAND",payload:r.data.brand}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ge(t.t0,a);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}(c))}),[w,a,c,s,u]);var U=function(){var e=Object($.a)(H.a.mark((function e(t){var a,n,r,c,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),x(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Y.a.post("/api/upload",n,r);case 8:c=e.sent,l=c.data,y(l),x(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),x(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.Link,{to:"/admin/brandlist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(mt,null,r.a.createElement("h1",null,"ADD Brand"),i?r.a.createElement(Ge,null):r.a.createElement(G.a,{onSubmit:function(e){e.preventDefault(),w(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s,u,i,m;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={name:"required|min:6",description:"required|min:10|max:100"},c={name:e.name,description:e.description},l=be(c,r,{"required.name":"Name is required.","min.name":"Name must be at least 6 characters.","required.description":"Description is required.","min.description":"Description must be at least 10 characters.","max.description":"Description may not be greater than 100 characters."}),l.isValid,l.errors,o=n(),s=o.userLogin.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=8,Y.a.put("/api/brand/".concat(e._id),e,u);case 8:i=t.sent,m={title:"".concat(i.data.message),position:"tr",autoDismiss:1},!0===i.data.success&&(a(Object(Ee.success)(m)),a({type:b,payload:i.data.brand}),a(Object(ve.a)())),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),ge(t.t0,a);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:c,name:p,image:h,description:R}))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:p,onChange:function(e){return E(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"image"},r.a.createElement(G.a.Label,null,"Image"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter image url",value:h,onChange:function(e){return y(e.target.value)}}),r.a.createElement(G.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:U}),D&&r.a.createElement(Ge,null)),r.a.createElement(G.a.Group,{controlId:"description"},r.a.createElement(G.a.Label,null,"Description"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter description",value:R,onChange:function(e){return k(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Update"))))},xt=function(e){var t=e.history,a=(e.match.params.pageNumber,Object(o.useDispatch)()),c=Object(o.useSelector)((function(e){return e.brand})),l=c.loading,s=c.storeBrands,u=c.success,i=Object(o.useSelector)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){a(Oe()),a({type:h}),u&&a(Oe()),a({type:"PRODUCT_CREATE_RESET"}),i&&(i.isAdmin||i.seller)||t.push("/login")}),[a,t,i]);var m=function(e){window.confirm("Are you sure")&&a(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_BRANDs_REQUEST"}),t.prev=1,r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.delete("/api/brand/delete/".concat(e),l);case 6:o=t.sent,s={title:"".concat(o.data.message),position:"tr",autoDismiss:1},!0===o.data.success&&(a(Object(Ee.success)(s)),a({type:"src/Brand/REMOVE_BRAND",payload:e})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),ge(t.t0,a);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"align-items-center"},r.a.createElement(Te.a,null,r.a.createElement("h1",null,"Brands")),r.a.createElement(Te.a,{className:"text-right"},r.a.createElement(M.a,{className:"my-3",onClick:function(){t.push("/admin/brand/add")}},r.a.createElement("i",{className:"fas fa-plus"})," Create Brand"))),l?r.a.createElement(Ge,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRODUCTS"),r.a.createElement("th",null))),r.a.createElement("tbody",null,s.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("tr",null," ",e.products.map((function(e){return r.a.createElement("td",null," ",e.name)}))),r.a.createElement("td",null,r.a.createElement(U.LinkContainer,{to:"/admin/brand/".concat(e._id,"/edit")},r.a.createElement(M.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(M.a,{variant:"danger",className:"btn-sm",onClick:function(){return m(e._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))),r.a.createElement(ze,{isAdmin:!0})))},wt=function(e){var t=e.history,a=e.match.params.pageNumber||1,c=Object(o.useDispatch)(),l=Object(o.useSelector)((function(e){return e.category})),s=l.categories,u=l.loading,i=l.error,m=(l.success,Object(o.useSelector)((function(e){return e.userLogin})).userInfo);Object(n.useEffect)((function(){c(ye()),c({type:O}),m&&m.isAdmin||t.push("/login")}),[c,t,m,a]);var d=function(e){window.confirm("Are you sure")&&c(function(e){return function(){var t=Object($.a)(H.a.mark((function t(a,n){var r,c,l,o,s;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCHING"}),t.prev=1,r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Y.a.delete("/api/category/delete/".concat(e),l);case 6:o=t.sent,s={title:"".concat(o.data.message),position:"tr",autoDismiss:1},1==o.data.success&&(a(Object(Ee.success)(s)),a({type:"src/Category/REMOVE_CATEGORY",payload:e})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),ge(t.t0,a),a({type:"REQUEST_FAIL",payload:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"align-items-center"},r.a.createElement(Te.a,null,r.a.createElement("h1",null,"Category")),r.a.createElement(Te.a,{className:"text-right"},r.a.createElement(M.a,{className:"my-3",onClick:function(){t.push("/admin/category/add")}},r.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),u?r.a.createElement(Ge,null):i?r.a.createElement(Fe,{variant:"danger"},i):r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRODUCTS"),r.a.createElement("th",null))),r.a.createElement("tbody",null,s.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("tr",null," ",e.products.map((function(e){return r.a.createElement("td",null," ",e.name)}))),r.a.createElement("td",null,r.a.createElement(U.LinkContainer,{to:"/admin/category/".concat(e._id,"/edit")},r.a.createElement(M.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(M.a,{variant:"danger",className:"btn-sm",onClick:function(){return d(e._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))),r.a.createElement(ze,{isAdmin:!0})))},Pt=a(53),Ut=function(e){e.match;var t=e.history,a=Object(n.useState)(""),c=Object(P.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),i=Object(P.a)(u,2),m=i[0],d=i[1],p=Object(n.useState)([]),E=Object(P.a)(p,2),g=E[0],f=E[1],h=Object(n.useState)(""),b=Object(P.a)(h,2),y=b[0],v=b[1],j=Object(n.useState)(!1),C=Object(P.a)(j,2),I=C[0],_=C[1],R=Object(o.useDispatch)(),k=Object(o.useSelector)((function(e){return e.productList})),T=k.products,L=k.error,D=Object(o.useSelector)((function(e){return e.category})),x=(D.categories,D.loading),w=D.success,U=D.error,N=[];T.forEach((function(e){return N.push({label:e.slug,value:e._id})}));var F=[];g.forEach((function(e){return F.push(e.value)})),Object(n.useEffect)((function(){R({type:O}),w&&t.push("/admin/categorylist"),R(Ye())}),[R,t,w]);var B=function(){var e=Object($.a)(H.a.mark((function e(t){var a,n,r,c,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),_(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Y.a.post("/api/upload",n,r);case 8:c=e.sent,l=c.data,d(l),_(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),_(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.Link,{to:"/admin/categorylist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(mt,null,r.a.createElement("h1",null,"ADD Category"),x?r.a.createElement(Ge,null):U?r.a.createElement(Fe,{variant:"danger"},U):L?r.a.createElement(Fe,{variant:"danger"},L):r.a.createElement(G.a,{onSubmit:function(e){var t;e.preventDefault(),R((t={name:l,image:m,array:F,description:y},function(){var e=Object($.a)(H.a.mark((function e(a,n){var r,c,l,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"FETCHING"}),e.prev=1,r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,Y.a.post("/api/category/add",t,l);case 6:o=e.sent,s={title:"".concat(o.data.message),position:"tr",autoDismiss:1},!0===o.data.success&&(a(Object(Ee.success)(s)),a({type:S,payload:o.data.category}),a({type:O})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),ge(e.t0,a),a({type:"REQUEST_FAIL",payload:e.t0.response.data.error});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"image"},r.a.createElement(G.a.Label,null,"Image"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter image url",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement(G.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:B}),I&&r.a.createElement(Ge,null)),r.a.createElement(G.a.Group,{controlId:"brand"},r.a.createElement(Pt.a,{value:g,onChange:function(e){return f(e)},options:N,isMulti:!0})),r.a.createElement(G.a.Group,{controlId:"description"},r.a.createElement(G.a.Label,null,"Description"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter description",value:y,onChange:function(e){return v(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Save"))))},Nt=function(e){var t=e.match,a=e.history,c=t.params.id,l=Object(n.useState)(""),s=Object(P.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(""),d=Object(P.a)(m,2),p=d[0],E=d[1],g=Object(n.useState)([]),f=Object(P.a)(g,2),h=f[0],b=f[1],y=Object(n.useState)(""),v=Object(P.a)(y,2),S=v[0],j=v[1],C=Object(n.useState)(!1),I=Object(P.a)(C,2),_=I[0],R=I[1],k=Object(o.useDispatch)(),T=Object(o.useSelector)((function(e){return e.productList})).products,L=Object(o.useSelector)((function(e){return e.category})),D=(L.categories,L.category),x=L.success,w=L.loading;L.error;Object(n.useEffect)((function(){if(k(Ye()),x&&a.push("/admin/categorylist"),D.name&&D._id===c){var e=[];D.products.forEach((function(t){return e.push({label:t.slug,value:t._id})})),i(D.name),E(D.image),j(D.description),b(e)}else k((t=c,function(){var e=Object($.a)(H.a.mark((function e(a,n){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"FETCHING"}),e.prev=1,e.next=4,Y.a.get("/api/category/".concat(t));case 4:r=e.sent,a({type:"FETCH_CATEGORY",payload:r.data.category}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),ge(e.t0,a),a({type:"REQUEST_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()));var t}),[k,a,c,D,x]);var U=function(){var e=Object($.a)(H.a.mark((function e(t){var a,n,r,c,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),R(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Y.a.post("/api/upload",n,r);case 8:c=e.sent,l=c.data,E(l),R(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),R(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),N=[];T.forEach((function(e){return N.push({label:e.slug,value:e._id})}));var F=[];h.forEach((function(e){return F.push(e.value)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.Link,{to:"/admin/categorylist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(mt,null,r.a.createElement("h1",null,"Edit Category"),w?r.a.createElement(Ge,null):r.a.createElement(G.a,{onSubmit:function(e){var t;e.preventDefault(),k((t={_id:c,name:u,image:p,array:F,description:S},function(){var e=Object($.a)(H.a.mark((function e(a,n){var r,c,l,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"FETCHING"}),e.prev=1,r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,Y.a.put("/api/category/".concat(t._id),t,l);case 6:o=e.sent,s={title:"".concat(o.data.message),position:"tr",autoDismiss:1},!0===o.data.success&&(a(Object(Ee.success)(s)),a({type:"UPDATE_CATEGORY"}),a({type:O})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),ge(e.t0,a),a({type:"REQUEST_FAIL",payload:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"Name"),r.a.createElement(G.a.Control,{type:"name",placeholder:"Enter name",value:u,onChange:function(e){return i(e.target.value)}})),r.a.createElement(G.a.Group,{controlId:"image"},r.a.createElement(G.a.Label,null,"Image"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter image url",value:p,onChange:function(e){return E(e.target.value)}}),r.a.createElement(G.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:U}),_&&r.a.createElement(Ge,null)),r.a.createElement(G.a.Group,{controlId:"brand"},r.a.createElement(Pt.a,{value:h,onChange:function(e){return b(e)},options:N,isMulti:!0})),r.a.createElement(G.a.Group,{controlId:"description"},r.a.createElement(G.a.Label,null,"Description"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter description",value:S,onChange:function(e){return j(e.target.value)}})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Update"))))},Ft=function(e){var t=e.brand;return r.a.createElement(Ae.a,{className:"my-3 p-3 rounded"},r.a.createElement(A.Link,{to:"/category/".concat(t.slug)},r.a.createElement(Ae.a.Img,{src:t.image,variant:"top"})),r.a.createElement(Ae.a.Body,null,r.a.createElement(A.Link,{to:"/category/".concat(t.slug)},r.a.createElement(Ae.a.Title,{as:"h3"},r.a.createElement("strong",null,t.name))),r.a.createElement(Ae.a.Text,{as:"h5"},t.description)))},Bt=function(e){var t=e.match,a=t.params.keyword,c=t.params.pageNumber||1,l=Object(o.useDispatch)(),s=Object(o.useSelector)((function(e){return e.category})),u=s.categories,i=s.loading,m=s.error;return Object(n.useEffect)((function(){l($e(a,c)),l(ye())}),[l,a,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement("h1",null," SELECT Category"),r.a.createElement(A.Link,{className:"btn btn-light my-3",to:"/",style:{backgroundColor:"pink",margin:"1rem"}},"Go back"),i?r.a.createElement(Ge,null):m?r.a.createElement(Fe,{variant:"danger"},m):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,null,u.map((function(e){return r.a.createElement(Te.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(Ft,{brand:e}))}))),r.a.createElement(ze,{keyword:a||""})))},Gt=function(e){var t=e.match,a=t.params.keyword,c=t.params.slug,l=t.params.pageNumber||1,s=Object(o.useDispatch)(),u=Object(o.useSelector)((function(e){return e.category})),i=u.categories,m=u.loading,d=u.error,p=i.filter((function(e){return e.slug===c}));return Object(n.useEffect)((function(){s($e(a,l)),s(Se())}),[s,a,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement(A.Link,{className:"btn btn-light my-3",to:"/category"},"Go Back"),p.map((function(e){return r.a.createElement("h1",null,e.name)})),m?r.a.createElement(Ge,null):d?r.a.createElement(Fe,{variant:"danger"},d):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,null,p.map((function(e){return e.products.map((function(e){return r.a.createElement(Te.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(Pe,{product:e}))}))}))),r.a.createElement(ze,{keyword:a||""})))},Mt=a(64),zt=function(e){var t=e.component,a=Object(Mt.a)(e,["component"]);return r.a.createElement(x.d,Object.assign({},a,{render:function(e){return JSON.parse(localStorage.getItem("userInfo")).isAdmin?r.a.createElement(t,e):r.a.createElement(x.c,{to:{pathname:"/",state:{from:e.location}}})}}))},Qt=function(e){var t=e.component,a=Object(Mt.a)(e,["component"]);return r.a.createElement(x.d,Object.assign({},a,{render:function(e){return JSON.parse(localStorage.getItem("userInfo")).seller?r.a.createElement(t,e):r.a.createElement(x.c,{to:{pathname:"/",state:{from:e.location}}})}}))},Ht=function(e){var t,a=e.match,c=e.history,l=a.params.id,s=Object(n.useState)(!1),u=Object(P.a)(s,2),i=u[0],m=u[1],d=Object(o.useDispatch)(),p=Object(o.useSelector)((function(e){return e.orderDetails})),E=p.order,g=p.loading,f=p.error,h=p.success,b=Object(o.useSelector)((function(e){return e.userLogin})).userInfo;if(!g){E.itemsPrice=(t=E.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2))}Object(n.useEffect)((function(){b||c.push("/login");var e=function(){var e=Object($.a)(H.a.mark((function e(){var t,a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){m(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!E||h||h||E._id!==l?(d({type:"ORDER_PAY_RESET"}),d({type:"ORDER_DELIVER_RESET"}),d(gt(l))):E.isPaid||(window.paypal?m(!0):e())}),[d,l,h,h,E]);return g?r.a.createElement(Ge,null):f?r.a.createElement(Fe,{variant:"danger"},f):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Order ",E._id),r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: ")," ",E.user.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: ")," ",r.a.createElement("a",{href:"mailto:".concat(E.user.email)},E.user.email)),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:"),E.shippingAddress.address,", ",E.shippingAddress.city," ",E.shippingAddress.postalCode,","," ",E.shippingAddress.country),E.isDelivered?r.a.createElement(Fe,{variant:"success"},"Delivered on ",E.deliveredAt):r.a.createElement(Fe,{variant:"danger"},"Not Delivered")),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method: "),E.paymentMethod),E.isPaid?r.a.createElement(Fe,{variant:"success"},"Paid on ",E.paidAt):r.a.createElement(Fe,{variant:"danger"},"Not Paid")),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===E.orderItems.length?r.a.createElement(Fe,null,"Order is empty"):r.a.createElement(ie.a,{variant:"flush"},E.orderItems.map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:1},r.a.createElement(He.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(Te.a,null,r.a.createElement(A.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(Te.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(Te.a,{md:4},r.a.createElement(Ae.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Items"),r.a.createElement(Te.a,null,"$",E.itemsPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Shipping"),r.a.createElement(Te.a,null,"$",E.shippingPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Tax"),r.a.createElement(Te.a,null,"$",E.taxPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Total"),r.a.createElement(Te.a,null,"$",E.totalPrice))),!E.isPaid&&r.a.createElement(ie.a.Item,null,g&&r.a.createElement(Ge,null),i?r.a.createElement(jt.PayPalButton,{amount:E.totalPrice,onSuccess:function(e){console.log(e),d(ft(l,e))}}):r.a.createElement(Ge,null)),g&&r.a.createElement(Ge,null),b&&b.isAdmin&&E.isPaid&&!E.isDelivered&&r.a.createElement(ie.a.Item,null,r.a.createElement(M.a,{type:"button",className:"btn btn-block",onClick:function(){d(ht(E))}},"Mark As Delivered")))))))},$t=function(e){var t,a=e.match,c=e.history,l=a.params.id,s=Object(n.useState)(!1),u=Object(P.a)(s,2),i=u[0],m=u[1],d=Object(o.useDispatch)(),p=Object(o.useSelector)((function(e){return e.orderDetails})),E=p.order,g=p.loading,f=p.error,h=p.success,b=Object(o.useSelector)((function(e){return e.userLogin})).userInfo;if(!g){E.totalPrice=E.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0)+E.shippingPrice+E.taxPrice,E.itemsPrice=(t=E.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2))}E&&(E.orderItems=E.orderItems.filter((function(e){return e.seller._id===b._id}))),Object(n.useEffect)((function(){b||c.push("/login");var e=function(){var e=Object($.a)(H.a.mark((function e(){var t,a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){m(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!E||h||h||E._id!==l?(d({type:"ORDER_PAY_RESET"}),d({type:"ORDER_DELIVER_RESET"}),d(gt(l))):E.isPaid||(window.paypal?m(!0):e())}),[d,l,h,h,E]);return g?r.a.createElement(Ge,null):f?r.a.createElement(Fe,{variant:"danger"},f):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Order ",E._id),r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: ")," ",E.user.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: ")," ",r.a.createElement("a",{href:"mailto:".concat(E.user.email)},E.user.email)),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:"),E.shippingAddress.address,", ",E.shippingAddress.city," ",E.shippingAddress.postalCode,","," ",E.shippingAddress.country),E.isDelivered?r.a.createElement(Fe,{variant:"success"},"Delivered on ",E.deliveredAt):r.a.createElement(Fe,{variant:"danger"},"Not Delivered")),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method: "),E.paymentMethod),E.isPaid?r.a.createElement(Fe,{variant:"success"},"Paid on ",E.paidAt):r.a.createElement(Fe,{variant:"danger"},"Not Paid")),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===E.orderItems.length?r.a.createElement(Fe,null,"Order is empty"):r.a.createElement(ie.a,{variant:"flush"},E.orderItems.map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(ke.a,null,r.a.createElement(Te.a,{md:1},r.a.createElement(He.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(Te.a,null,r.a.createElement(A.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(Te.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(Te.a,{md:4},r.a.createElement(Ae.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Items"),r.a.createElement(Te.a,null,"$",E.itemsPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Shipping"),r.a.createElement(Te.a,null,"$",E.shippingPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Tax"),r.a.createElement(Te.a,null,"$",E.taxPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Total"),r.a.createElement(Te.a,null,"$",E.totalPrice))),!E.isPaid&&r.a.createElement(ie.a.Item,null,g&&r.a.createElement(Ge,null),i?r.a.createElement(jt.PayPalButton,{amount:E.totalPrice,onSuccess:function(e){console.log(e),d(ft(l,e))}}):r.a.createElement(Ge,null)),g&&r.a.createElement(Ge,null),b&&b.isAdmin&&E.isPaid&&!E.isDelivered&&r.a.createElement(ie.a.Item,null,r.a.createElement(M.a,{type:"button",className:"btn btn-block",onClick:function(){d(ht(E))}},"Mark As Delivered")))))))},qt=function(){return r.a.createElement(A.BrowserRouter,null,r.a.createElement(Re,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(w.a,null,r.a.createElement(x.g,null,r.a.createElement(x.d,{path:"/",component:et,exact:!0}),r.a.createElement(x.d,{path:"/search/:keyword",component:et,exact:!0}),r.a.createElement(x.d,{path:"/page/:pageNumber",component:et,exact:!0}),r.a.createElement(x.d,{path:"/search/:keyword/page/:pageNumber",component:et,exact:!0}),r.a.createElement(x.d,{path:"/brand",component:nt,exact:!0}),r.a.createElement(x.d,{path:"/category",component:Bt,exact:!0}),r.a.createElement(x.d,{path:"/category/:slug",component:Gt}),r.a.createElement(x.d,{path:"/brand/:slug",component:rt,exact:!0}),r.a.createElement(x.d,{path:"/order/:id",component:Ct}),r.a.createElement(x.d,{path:"/shipping",component:vt}),r.a.createElement(x.d,{path:"/payment",component:Ot}),r.a.createElement(x.d,{path:"/placeorder",component:St}),r.a.createElement(x.d,{path:"/login",component:dt}),r.a.createElement(x.d,{path:"/register",component:pt}),r.a.createElement(x.d,{path:"/profile",component:bt}),r.a.createElement(x.d,{path:"/product/:id",component:ut}),r.a.createElement(x.d,{path:"/cart/:id?",component:it}),r.a.createElement(x.d,{path:"/admin/userlist",component:It}),r.a.createElement(x.d,{path:"/admin/user/:id/edit",component:_t}),r.a.createElement(x.d,{path:"/admin/productlist",component:Rt,exact:!0}),r.a.createElement(Qt,{path:"/admin/productlist/:pageNumber",component:Rt,exact:!0}),r.a.createElement(Qt,{path:"/admin/product/:id/edit",component:kt}),r.a.createElement(Qt,{path:"/admin/product/add",component:Tt}),r.a.createElement(zt,{path:"/admin/brandlist/",component:xt,exact:!0}),r.a.createElement(zt,{path:"/admin/brand/:id/edit",component:At}),r.a.createElement(zt,{path:"/admin/brand/add",component:Dt}),r.a.createElement(zt,{path:"/admin/categorylist/",component:wt,exact:!0}),r.a.createElement(zt,{path:"/admin/category/:id/edit",component:Nt}),r.a.createElement(zt,{path:"/admin/category/add",component:Ut}),r.a.createElement(x.d,{path:"/admin/orderlist",component:Lt}),r.a.createElement(x.d,{path:"/seller/order/:id",component:$t}),r.a.createElement(x.d,{path:"/admin/order/:id",component:Ht})))),r.a.createElement(Le,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.Provider,{store:D},r.a.createElement(qt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[198,1,2]]]);
//# sourceMappingURL=main.471060ce.chunk.js.map